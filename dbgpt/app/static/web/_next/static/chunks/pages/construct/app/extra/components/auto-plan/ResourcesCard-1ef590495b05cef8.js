(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5550],{1565:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var a=n(34548),r=n(38497),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},l=n(66956),o=r.forwardRef(function(e,t){return r.createElement(l.Z,(0,a.Z)({},e,{ref:t,icon:i}))})},16104:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var a=n(34548),r=n(38497),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},l=n(66956),o=r.forwardRef(function(e,t){return r.createElement(l.Z,(0,a.Z)({},e,{ref:t,icon:i}))})},24025:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var a=n(34548),r=n(38497),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},l=n(66956),o=r.forwardRef(function(e,t){return r.createElement(l.Z,(0,a.Z)({},e,{ref:t,icon:i}))})},24504:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var a=n(34548),r=n(38497),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},l=n(66956),o=r.forwardRef(function(e,t){return r.createElement(l.Z,(0,a.Z)({},e,{ref:t,icon:i}))})},30606:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var a=n(34548),r=n(38497),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},l=n(66956),o=r.forwardRef(function(e,t){return r.createElement(l.Z,(0,a.Z)({},e,{ref:t,icon:i}))})},67807:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var a=n(34548),r=n(38497),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},l=n(66956),o=r.forwardRef(function(e,t){return r.createElement(l.Z,(0,a.Z)({},e,{ref:t,icon:i}))})},37442:function(e,t,n){"use strict";n.d(t,{i:function(){return o}});var a=n(38497),r=n(77511),i=n(29478),l=n(13785);function o(e){return t=>a.createElement(i.ZP,{theme:{token:{motion:!1,zIndexPopupBase:0}}},a.createElement(e,Object.assign({},t)))}t.Z=(e,t,n,i,s)=>o(o=>{let{prefixCls:u,style:c}=o,d=a.useRef(null),[f,m]=a.useState(0),[v,p]=a.useState(0),[h,g]=(0,r.Z)(!1,{value:o.open}),{getPrefixCls:x}=a.useContext(l.E_),y=x(i||"select",u);a.useEffect(()=>{if(g(!0),"undefined"!=typeof ResizeObserver){let e=new ResizeObserver(e=>{let t=e[0].target;m(t.offsetHeight+8),p(t.offsetWidth)}),t=setInterval(()=>{var n;let a=s?`.${s(y)}`:`.${y}-dropdown`,r=null===(n=d.current)||void 0===n?void 0:n.querySelector(a);r&&(clearInterval(t),e.observe(r))},10);return()=>{clearInterval(t),e.disconnect()}}},[]);let w=Object.assign(Object.assign({},o),{style:Object.assign(Object.assign({},c),{margin:0}),open:h,visible:h,getPopupContainer:()=>d.current});return n&&(w=n(w)),t&&Object.assign(w,{[t]:{overflow:{adjustX:!1,adjustY:!1}}}),a.createElement("div",{ref:d,style:{paddingBottom:f,position:"relative",minWidth:v}},a.createElement(e,Object.assign({},w)))})},49668:function(e,t){"use strict";t.Z=e=>({[e.componentCls]:{[`${e.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}},[`${e.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}}})},64619:function(e,t,n){"use strict";n.d(t,{Fm:function(){return v}});var a=n(85929),r=n(70635);let i=new a.E4("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),l=new a.E4("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),o=new a.E4("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),s=new a.E4("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),u=new a.E4("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),c=new a.E4("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),d=new a.E4("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),f=new a.E4("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),m={"move-up":{inKeyframes:d,outKeyframes:f},"move-down":{inKeyframes:i,outKeyframes:l},"move-left":{inKeyframes:o,outKeyframes:s},"move-right":{inKeyframes:u,outKeyframes:c}},v=(e,t)=>{let{antCls:n}=e,a=`${n}-${t}`,{inKeyframes:i,outKeyframes:l}=m[t];return[(0,r.R)(a,i,l,e.motionDurationMid),{[`
        ${a}-enter,
        ${a}-appear
      `]:{opacity:0,animationTimingFunction:e.motionEaseOutCirc},[`${a}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]}},61314:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/construct/app/extra/components/auto-plan/ResourcesCard",function(){return n(68403)}])},58526:function(e,t,n){"use strict";var a=n(17402);let r=(0,a.Z)({scriptUrl:"//at.alicdn.com/t/a/font_4440880_ljyggdw605.js"});t.Z=r},23464:function(e,t,n){"use strict";n.r(t);var a=n(96469),r=n(40789),i=n(95838),l=n(36980),o=n(51645),s=n(61076),u=n(26869),c=n.n(u),d=n(38497),f=n(56841);t.default=e=>{let{uid:t,initValue:n,updateData:u,classNames:m,resourceTypeOptions:v,setCurIcon:p}=e,[h]=l.default.useForm(),g=l.default.useWatch("type",h),x=l.default.useWatch("is_dynamic",h),y=l.default.useWatch("value",h),{t:w}=(0,f.$G)(),j=(0,d.useMemo)(()=>(null==v?void 0:v.filter(e=>"all"!==e.value))||[],[v]),{run:Z,data:E,loading:b}=(0,i.Z)(async e=>{var t;let[,a]=await (0,r.Vx)((0,r.RX)({type:e}));return h.setFieldsValue({value:(null==n?void 0:n.value)||(null==a?void 0:null===(t=a[0])||void 0===t?void 0:t.key)}),a||[]},{manual:!0});(0,d.useEffect)(()=>{g&&Z(g)},[Z,g]);let O=(0,d.useMemo)(()=>(null==E?void 0:E.map(e=>({...e,label:e.label,value:e.key+""})))||[],[E]);return(0,d.useEffect)(()=>{let e=h.getFieldsValue(),n=(null==e?void 0:e.is_dynamic)?"":null==e?void 0:e.value;u({uid:t,...e,value:n})},[t,x,h,u,y,g]),(0,a.jsx)("div",{className:c()("flex flex-1",m),children:(0,a.jsxs)(l.default,{style:{width:"100%"},form:h,labelCol:{span:4},initialValues:{...n},children:[(0,a.jsx)(l.default.Item,{label:w("resource_type"),name:"type",children:(0,a.jsx)(o.default,{className:"w-2/5",options:j,onChange:e=>{p({uid:t,icon:e})}})}),(0,a.jsx)(l.default.Item,{label:w("resource_dynamic"),name:"is_dynamic",children:(0,a.jsx)(s.Z,{style:{background:x?"#1677ff":"#ccc"}})}),!x&&(0,a.jsxs)(a.Fragment,{children:[" ","image_file"===g||"internet"===g||["text_file","excel_file"].includes(g)?null:(0,a.jsx)(l.default.Item,{label:w("resource_value"),name:"value",required:!0,children:(0,a.jsx)(o.default,{placeholder:w("please_select_param"),options:O,loading:b,className:"w-3/5",allowClear:!0})})]})]})})}},68403:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var a=n(96469),r=n(68840),i=n(26869),l=n.n(i),o=e=>{let{className:t,imgUrl:n="/pictures/empty.png"}=e;return(0,a.jsx)("div",{className:l()("m-auto",{className:t}),children:(0,a.jsx)(r.Z,{image:n,imageStyle:{margin:"0 auto",width:"100%",height:"100%"}})})},s=n(16104),u=n(30606),c=n(51645),d=n(86574),f=n(85815),m=n(75148),v=n(44766),p=n(38497),h=n(56841),g=n(29828),x=n(48044),y=n(23464),w=e=>{var t;let{name:n,updateData:r,resourceTypeOptions:i,initValue:w}=e,{t:j}=(0,h.$G)(),Z=(0,p.useRef)(w||[]),[E,b]=(0,p.useState)({uid:"",icon:""}),[O,_]=(0,p.useState)((null==w?void 0:w.map(e=>({...e,icon:e.type,initVal:e})))||[]),[C,M]=(0,p.useState)([...O]),[I,N]=(0,p.useState)((null==O?void 0:null===(t=O[0])||void 0===t?void 0:t.uid)||""),[z,$]=(0,p.useState)(""),k=(e,t)=>{var a,i;null==e||e.stopPropagation();let l=null===(a=Z.current)||void 0===a?void 0:a.findIndex(e=>e.uid===I),o=null==O?void 0:O.filter(e=>e.uid!==t.uid);Z.current=Z.current.filter(e=>e.uid!==t.uid)||[],r([n,Z.current]),_(o),l===(null==O?void 0:O.length)-1&&0!==l&&setTimeout(()=>{var e;N((null==o?void 0:null===(e=o[o.length-1])||void 0===e?void 0:e.uid)||"")},0),N((null==o?void 0:null===(i=o[l])||void 0===i?void 0:i.uid)||"")};return(0,p.useEffect)(()=>{M([...O])},[O]),(0,p.useEffect)(()=>{_(O.map(e=>(null==E?void 0:E.uid)===e.uid?{...e,icon:E.icon}:e))},[E]),(0,a.jsxs)("div",{className:"flex flex-1  h-64 px-3 py-4 border border-[#d6d8da] rounded-md",children:[(0,a.jsxs)("div",{className:"flex flex-col w-40 h-full",children:[(0,a.jsx)(c.default,{options:i,className:"w-full h-8",variant:"borderless",defaultValue:"all",onChange:e=>{var t,n;if("all"===e)M(O),N((null==O?void 0:null===(t=O[0])||void 0===t?void 0:t.uid)||"");else{let t=null==O?void 0:O.filter(t=>(null==t?void 0:t.icon)===e);N((null==t?void 0:null===(n=t[0])||void 0===n?void 0:n.uid)||""),M(t)}}}),(0,a.jsx)("div",{className:"flex flex-1 flex-col gap-1 overflow-y-auto",children:null==C?void 0:C.map(e=>(0,a.jsxs)("div",{className:l()("flex h-8 items-center px-3 pl-[0.6rem] rounded-md hover:bg-[#f5faff] hover:dark:bg-[#606264] cursor-pointer relative",{"bg-[#f5faff] dark:bg-[#606264]":e.uid===I}),onClick:()=>{N(e.uid||"")},onMouseEnter:()=>{$(e.uid||"")},onMouseLeave:()=>{$("")},children:[x.resourceTypeIcon[e.icon||""],(0,a.jsx)(d.Z.Text,{className:l()("flex flex-1 items-center text-sm p-0 m-0 mx-2 line-clamp-1",{"text-[#0c75fc]":e.uid===I}),editable:{autoSize:{maxRows:1},onChange:t=>{_(O.map(n=>n.uid===e.uid?{...n,name:t}:n)),Z.current=Z.current.map(n=>n.uid===e.uid?{...n,name:t}:n),r([n,Z.current])}},ellipsis:{tooltip:!0},children:e.name}),(0,a.jsx)(f.Z,{title:j("want_delete"),onConfirm:t=>{k(t,e)},onCancel:e=>null==e?void 0:e.stopPropagation(),children:(0,a.jsx)(s.Z,{className:"text-sm cursor-pointer  absolute right-2 ".concat(z===e.uid?"opacity-100":"opacity-0"),style:{top:"50%",transform:"translateY(-50%)"},onClick:e=>e.stopPropagation()})})]},e.uid))}),(0,a.jsx)(m.ZP,{className:"w-full h-8",type:"dashed",block:!0,icon:(0,a.jsx)(u.Z,{}),onClick:()=>{var e,t;let a=(0,g.Z)();Z.current=(0,v.concat)(Z.current,[{is_dynamic:!1,type:null===(e=null==i?void 0:i.filter(e=>"all"!==e.value))||void 0===e?void 0:e[0].value,value:"",uid:a,name:j("resource")+" ".concat(Z.current.length+1)}].filter(Boolean)),r([n,Z.current]),_(e=>{var t,n,r;return[...e,{icon:(null===(t=null==i?void 0:i.filter(e=>"all"!==e.value))||void 0===t?void 0:null===(n=t[0])||void 0===n?void 0:n.value)||"",uid:a,initVal:{is_dynamic:!1,type:null===(r=null==i?void 0:i.filter(e=>"all"!==e.value))||void 0===r?void 0:r[0].value,value:"",uid:a,name:j("resource")+" ".concat(e.length+1)},name:j("resource")+" ".concat(e.length+1)}]}),N(a),b({uid:a,icon:null===(t=null==i?void 0:i.filter(e=>"all"!==e.value))||void 0===t?void 0:t[0].value})},children:j("add_resource")})]}),(0,a.jsx)("div",{className:"flex flex-1 ml-6 ",children:C&&(null==C?void 0:C.length)>0?(0,a.jsx)("div",{className:"flex flex-1",children:null==C?void 0:C.map(e=>(0,a.jsx)(y.default,{classNames:e.uid===I?"block":"hidden",resourceTypeOptions:i,initValue:e.initVal,setCurIcon:b,updateData:e=>{var t;Z.current=null===(t=Z.current)||void 0===t?void 0:t.map(t=>(null==t?void 0:t.uid)===(null==e?void 0:e.uid)?{...t,...e}:t),r([n,Z.current])},uid:e.uid||""},e.uid))}):(0,a.jsx)(o,{className:"w-40 h-40"})})]})}},48044:function(e,t,n){"use strict";n.r(t),n.d(t,{agentIcon:function(){return w},resourceTypeIcon:function(){return j}});var a=n(96469),r=n(58526),i=n(80844),l=n(51207),o=n(21347),s=n(40371),u=n(5457),c=n(24504),d=n(69387),f=n(4534),m=n(38042),v=n(69308),p=n(16066),h=n(24025),g=n(31849),x=n(99590),y=n(39603);n(38497);let w={CodeEngineer:(0,a.jsx)(i.Z,{}),Reporter:(0,a.jsx)(l.Z,{}),DataScientist:(0,a.jsx)(o.Z,{}),Summarizer:(0,a.jsx)(s.Z,{}),ToolExpert:(0,a.jsx)(r.Z,{type:"icon-plugin",style:{fontSize:17.25,marginTop:2}}),Indicator:(0,a.jsx)(u.Z,{}),Dbass:(0,a.jsx)(c.Z,{})},j={all:(0,a.jsx)(d.Z,{}),database:(0,a.jsx)(f.Z,{}),knowledge:(0,a.jsx)(m.Z,{}),internet:(0,a.jsx)(v.Z,{}),plugin:(0,a.jsx)(p.Z,{}),text_file:(0,a.jsx)(h.Z,{}),excel_file:(0,a.jsx)(g.Z,{}),image_file:(0,a.jsx)(x.Z,{}),awel_flow:(0,a.jsx)(y.Z,{})};t.default=()=>(0,a.jsx)(a.Fragment,{})},22219:function(e,t,n){"use strict";n.d(t,{G:function(){return l}});var a=n(16148),r=function(e){if((0,a.Z)()&&window.document.documentElement){var t=Array.isArray(e)?e:[e],n=window.document.documentElement;return t.some(function(e){return e in n.style})}return!1},i=function(e,t){if(!r(e))return!1;var n=document.createElement("div"),a=n.style[e];return n.style[e]=t,n.style[e]!==a};function l(e,t){return Array.isArray(e)||void 0===t?r(e):i(e,t)}}},function(e){e.O(0,[7521,3929,9521,6574,1645,1186,8971,9774,2888,179],function(){return e(e.s=61314)}),_N_E=e.O()}]);